{% extends "base.html" %}

{% block title %}Practice - Math Fluency{% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="row">
        <!-- Operation Selection -->
        <div class="col-md-4">
            <div class="card mb-4">
                <div class="card-header">
                    <h4>Select Operation</h4>
                </div>
                <div class="card-body">
                    <div class="btn-group w-100" role="group">
                        <button type="button" class="btn btn-outline-primary" data-operation="addition">Addition</button>
                        <button type="button" class="btn btn-outline-primary" data-operation="multiplication">Multiplication</button>
                    </div>
                </div>
            </div>
            
            <!-- Level Selection -->
            <div class="card mb-4">
                <div class="card-header">
                    <h4>Select Level</h4>
                </div>
                <div class="card-body">
                    <!-- Addition Levels -->
                    <select id="addition-select" class="form-select mb-3">
                        <option value="1">Level 1: Adding 1</option>
                        <option value="2">Level 2: Adding 2</option>
                        <option value="3">Level 3: Making 10</option>
                        <option value="4">Level 4: Adding to Double Digits</option>
                        <option value="5">Level 5: Double Digit Addition</option>
                    </select>
                    
                    <!-- Multiplication Levels -->
                    <select id="multiplication-select" class="form-select mb-3" style="display: none;">
                        <option value="0">0 Times Table</option>
                        <option value="1">1 Times Table</option>
                        <option value="2">2 Times Table</option>
                        <option value="3">3 Times Table</option>
                        <option value="4">4 Times Table</option>
                        <option value="5">5 Times Table</option>
                        <option value="6">6 Times Table</option>
                        <option value="7">7 Times Table</option>
                        <option value="8">8 Times Table</option>
                        <option value="9">9 Times Table</option>
                        <option value="10">10 Times Table</option>
                        <option value="11">11 Times Table</option>
                        <option value="12">12 Times Table</option>
                        <option value="99">Custom Range</option>
                    </select>

                    <!-- Custom Range Settings (initially hidden) -->
                    <div id="custom-range-settings" class="mb-3" style="display: none;">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Custom Problem Settings</h5>
                                
                                <!-- First Number -->
                                <div class="mb-3">
                                    <label class="form-label">First Number:</label>
                                    <input type="text" class="form-control" id="num1-input" 
                                           placeholder="Range (e.g., 2-7) or Set (e.g., 2,4,6)">
                                    <small class="text-muted">Use "-" for range or "," for specific numbers</small>
                                </div>
                                
                                <!-- Second Number -->
                                <div class="mb-3">
                                    <label class="form-label">Second Number:</label>
                                    <input type="text" class="form-control" id="num2-input" 
                                           placeholder="Range (e.g., 3-9) or Set (e.g., 2,7,8)">
                                    <small class="text-muted">Use "-" for range or "," for specific numbers</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Problem Display and Input -->
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4>Practice Problem</h4>
                </div>
                <div class="card-body text-center">
                    <div id="problem-display" class="text-center mb-4">
                        <h2 id="current-problem" class="display-4 mb-4"></h2>
                        <div id="answer-hint" class="alert alert-info" style="display: none;">
                            <strong>Hint:</strong> The answer is <span id="correct-answer"></span>
                        </div>
                    </div>
                    
                    <div id="answer-section">
                        <div class="mb-4">
                            <input type="number" id="answer-input" class="form-control form-control-lg text-center" placeholder="Enter your answer">
                            <input type="hidden" id="correct-answer-hidden">
                        </div>
                        
                        <div class="btn-group">
                            <button id="new-problem" class="btn btn-primary btn-lg">New Problem</button>
                            <button id="check-answer" class="btn btn-success btn-lg">Check Answer</button>
                        </div>
                        
                        <div id="feedback" class="mt-3">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/practice.js') }}"></script>
{% endblock %}
